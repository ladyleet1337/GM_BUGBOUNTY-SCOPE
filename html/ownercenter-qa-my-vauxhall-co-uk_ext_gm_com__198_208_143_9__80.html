<!doctype html>
<!-- - - - - - - - - - - - - - - - - - - - -
build date:  Mon, 03 Jul 2017 21:17:54 GMT
brand:       vauxhall
market:      uk
minify:      false
environment: qa_test_source
 - - - - - - - - - - - - - - - - - - - - - -->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="fragment" content="!">
        <meta name="description" content="Vauxhall: Owner Center">
        <meta name="title" content="Welcome to My Vauxhall | Manage your Vauxhall – Vauxhall Motors UK">
        <!-- Vauxhall_UK & Opel Sites -->
        <meta name="google-site-verification" content="T-K9XDNeSeJ9t_dh1cVbHcPmxOVPgH5eJKvS-z573zs" />
        <meta name="keywords" content="">
        <link rel="shortcut icon" href="/content/dam/gmownercenter/gme/static/source/img/favicon/vauxhall/favicon.ico" type="image/x-icon"/>
        <!--<title name="title" content="Welcome to My Vauxhall | Manage your Vauxhall – Vauxhall Motors UK">title</title>-->
        <meta name="robots" content="noindex" />
        <base href="/">
        <style>
            .hide {display:none;}
        </style>
        <link rel="stylesheet" type="text/css" href="/imports/intl-tel-input/build/css/intlTelInput.css"/>
        <!--[if !(lte IE 9)]><!-->
            <link rel="stylesheet" type="text/css" href="/css/main-vx.min.css?v=1499116674768"/>
        <!--<![endif]-->
        <!--[if lte IE 9]>
            <link rel="stylesheet" type="text/css" href="/splitCss/main-vx.min.css?v=1499116674768"/>
            <style>
                .tile-name {
                    width: auto !important;
                    margin-top:10.5px;
                    margin-bottom:10.5px;
                }
                .form-dropdown {
                    overflow: hidden;
                    margin-top: 0;
                    width: 100%;
                    background: white;
                    float: left;
                }
                .joinSection {
                    margin-bottom: 55px;
                }

                @media (max-height: 800px) {
                    .tileStaticBackground, .tile-name{
                        min-height:385px;
                    }

                    .vehicleDisplayTile .hasVehicle{
                        min-height: 385px;
                    }
                }

                section.homePublic .tile-name {
                  min-height: 500px !important;
                }
                section.homePublic .welcomeCarousel .tile-name {
                  min-height: 385px !important;
                }

                @media (min-width: 769px) {
                    .magazineModal .articles {
                        float: left;
                    }
                    .magazineModal .article {
                        float: left;
                        min-height: 400px;
                    }
                    .appsModal .appDetails {
                        min-height: 650px;
                    }
                }
            </style>


        <![endif]-->
    </head>
    <body class="vauxhall uk">

        <!-- JS disabled content -->
        <noscript>
            <div id="langSel">
                <div class="container-fluid langSelMainContent">
                    <div class="row">
                        <div class="col-md-4 col-sm-3">
                            
                        </div>
                        <div class="col-md-6 col-sm-8">
                            
                            <div>
                                <h2>Javascript not enabled</h2>
                                <h2>Welcome to My Vauxhall</h2>
                                <p>Our website needs JavaScript for you to get the best possible experience.</p>
                                <p>You can change this in your browser settings. Click Reload below when your settings are updated to try again.</p>
                                <p><a href="/"><button>Reload</button></a></p>
                            </div>
                            
                        </div>
                        <div class="col-md-4 col-sm-3">
                        </div>
                    </div>
                </div>
                
            </div>
        </noscript>

        <!-- IE 8 or older content -->
        <!--[if lte IE 8]>
            Obsolete browser detected. Please upgrade.
            <script>location.href='/sites/vauxhall_uk/obsolete.qa_test_source.html';</script>
        <![endif]-->

        <!--[if !(lte IE 8)]><!-->
        

        <!-- main site content -->
        <div data-ng-controller="masterController" class="gm-oc-app hide">
            <div mask enabled="stateManager.stateMask && !$state.current.abstract"></div>
            <div data-ng-class="{'color-overlay':stateManager.contentLayout==='tile_modal'}"></div>
            <div data-ui-view="header">
            </div>
            <div class="contentViewWrap">
                <div data-ui-view="content">
                    <!-- note: this content is overwritten when the angular app is bootstraped and the first view loaded -->
                    <div id="pageLoading" class="pageLoading" style="margin-top: 100px;">
                         <i class="icon-cog icon-spin"></i>
                    </div>
                </div>
            </div>
            <div data-ui-view="footer">
            </div>
        </div>

        <script>
            window.gm = {
                CP:                    '/api',
                disableSSORedirects:   false,
                environmentProperties: {
                    isGameAuth:        '',
                    mosBaseUrl:        'https://mos.fair-computer.de',
                    forceTopLevelSSO:  true,
                    countryDomainMap:  {"gb":["ownercenter-qa-my-vauxhall-co-uk.ext.gm.com"],"at":["ownercenter-qa-myopel-at.ext.gm.com"],"ch":["ownercenter-qa-myopel-ch.ext.gm.com"],"de":["ownercenter-qa-myopel-de.ext.gm.com"],"es":["ownercenter-qa-myopel-es.ext.gm.com"],"fr":["ownercenter-qa-myopel-fr.ext.gm.com"],"ie":["ownercenter-qa-myopel-ie.ext.gm.com"],"it":["ownercenter-qa-myopel-it.ext.gm.com"],"nl":["ownercenter-qa-myopel-nl.ext.gm.com"],"pl":["ownercenter-qa-myopel-pl.ext.gm.com"],"pt":["ownercenter-qa-myopel-pt.ext.gm.com"],"fi":["ownercenter-qa-myopel-fi.ext.gm.com"],"mt":["ownercenter-qa-myopel-mt.ext.gm.com"],"gr":["ownercenter-qa-myopel-gr.ext.gm.com"],"cy":["ownercenter-qa-myopel-cy.ext.gm.com"],"se":["ownercenter-qa-myopel-se.ext.gm.com"],"hu":["ownercenter-qa-myopel-hu.ext.gm.com"],"dk":["ownercenter-qa-myopel-dk.ext.gm.com"],"ro":["ownercenter-qa-myopel-ro.ext.gm.com"],"si":["ownercenter-qa-myopel-si.ext.gm.com"],"cz":["ownercenter-qa-myopel-cz.ext.gm.com"],"sk":["ownercenter-qa-myopel-sk.ext.gm.com"],"bg":["ownercenter-qa-myopel-bg.ext.gm.com"],"lt":["ownercenter-qa-myopel-lt.ext.gm.com"],"lv":["ownercenter-qa-myopel-lv.ext.gm.com"],"is":["ownercenter-qa-myopel-is.ext.gm.com"],"no":["ownercenter-qa-myopel-no.ext.gm.com"],"be":["ownercenter-qa-myopel-be.ext.gm.com"],"lu":["ownercenter-qa-myopel-lu.ext.gm.com"],"ee":["ownercenter-qa-myopel-ee.ext.gm.com"],"hr":["ownercenter-qa-myopel-hr.ext.gm.com"]},
                    bindLoginToDomain:  true,
                    cmsbrand:           'vauxhall'
                },
                googleMapKey:          'AIzaSyAeINbM-Zm3UuKTqPfiZfSYlXZU1rOFd6s',
                language:              'en',
                locale:                {"locale":"en-gb","label":"English","localeScript":"angular-locale_en-gb.js","urlCode":"en","cmsCode":"en"},
                localesAvailable:      [{"locale":"en-gb","label":"English","localeScript":"angular-locale_en-gb.js","urlCode":"en","cmsCode":"en"}],
                moduleList:            ['extend', 'gmoc.core', 'gmoc.cookieNotice', 'gmoc.apps', 'gmoc.auth', 'gmoc.competitions', 'gmoc.dev', 'gmoc.magazine', 'gmoc.news', 'gmoc.offers', 'gmoc.onstar', 'gmoc.profile', 'gmoc.social', 'gmoc.themeOv', 'gmoc.vehicle', 'gmoc.forms', 'gmoc.retailer', 'gmoc.notification', 'gmoc.faq', 'gmocvx.common', 'gmocvx.serviceClubDiscount', 'gmocvx.mosOffers', 'gmocvx.olsb', 'gmocvx.rewardCards', 'gmocvx.prizeDraw', 'gmocvx.promos', 'gmocvx.lifetimeWarranty', 'gmocvx.reminders', 'gmocop.contentArticles', 'gmoc.benefits', 'gmoc.vot', 'gmoc.vehiclePreferences'],
                mosServiceUrl:         'https://mos.fair-computer.de/OC/establishedSession.aspx',
                onstarUrl:             'https://gsp-rusi1lc.onstar.gm.com:8511',
                safeOrigins:           ["https://mos.fair-computer.de"],
                ssoLogoutUrl:          'https://accounts.ps1.gm.com/gmappcloud/gmoc/ov/sso/logout.do',
                bm:                    'vauxhall_uk',
                branch:                '',
                cmsConfig:             'true'
            };
            console.log('branch = ');
            console.log('cmsbrand = ' + window.gm.environmentProperties.cmsbrand);

(function applyPolyfills (w) {
    'use strict';
    var fn = function () {};

    // console
    if (!w.console){
        w.console = {
            memory: {},
            debug: fn, error: fn, info: fn, log: fn, warn: fn, dir: fn, dirxml: fn, table: fn, trace: fn, assert: fn, count: fn, markTimeline: fn, profile: fn, profileEnd: fn, time: fn, timeEnd: fn, timeStamp: fn, timeline: fn, timelineEnd: fn, group: fn, groupCollapsed: fn, groupEnd: fn, clear: fn
        };
    }

    // Math.sign Polyfill @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign
    Math.sign = Math.sign || function(x) {
        x = +x; // convert to a number
        if (x === 0 || isNaN(x)) {
            return x;
        }
        return x > 0 ? 1 : -1;
    };

    // Number.isNaN - ECMAScript 2015 (ES6) standard
    Number.isNaN = Number.isNaN || function(value) {
        return typeof value === "number" && value !== value;
    };

}(window));

// This JS is embeded in the index.html page and runs before any JS libraries are loaded
(function (w, d) {
    'use strict';

    var GM =
    function (options) {
        this.init(options);
        // Keep a list of global vars before all the other JS is loaded (to audit)
        this.startupGlobals = Object.keys(w);
    };

    // properties that we expect to be provided when GM is instantiated
    GM.prototype = {
//        CP : null,
//        disableSSORedirects : null,
//        environmentProperties : null,
//        googleMapKey : null,
//        language : null,
//        locale : null,
//        localesAvailable : null,
//        moduleList : null,
//        mosServiceUrl : null,
//        safeOrigins : null
    };

    GM.prototype.init =
    function (options) {
        var loginData, optName;
        for (optName in options) {
            if (options.hasOwnProperty(optName)) {
                this[optName] = options[optName];
            }
        }
        this.cmsPreload = undefined;
        this.sessionInitData = undefined;
        this.miInitData = undefined;
        this.jsonFrameCallbacks = {};
        w.addEventListener("message", this.jsonFrameReceiveMessage.bind(this), false);
        this.params = this.extractParams();
        // the page gets refreshed right after login to setup sso, if that is the case
        // then the session object will be stored in session storage and we can skip the
        // request to lookup the session and check SSO
        try {
            loginData = JSON.parse(w.sessionStorage.loginData || null);
            delete w.sessionStorage.loginData; // this trick only works once to avoid using an expired session
        } catch (e) {
            // session storage not available (browser may throw error just for ref w.sessionStorage)
            loginData = null;
        }
        if (loginData) {
            this.sessionInitData = {userProfile: loginData.user};
            this.miInitData = loginData.missingInforObjectWrapper;
        } else {
            this.sessionRequest();
        }
    };

    // utility methods

    GM.prototype.auditGlobals = function () {
        return Object.keys(w).filter(function (key) {
            return -1 === this.startupGlobals.indexOf(key);
        }, this);
    };

    GM.prototype.getOrigin =
    function () {
        var pathArray;
        if (w.location.origin){
            return w.location.origin;
        }
        // IE 10 and below...
        pathArray = w.location.href.split('/');
        return pathArray[0] + '//' + pathArray[2];
    };

    GM.prototype.destroyEl =
    function (el)  {
        el.parentNode.removeChild(el);
    };

    GM.prototype.trigger =
    function trigger (eventName, payload) {
        var evt;
        evt = d.createEvent('HTMLEvents', payload);
        evt.initEvent(eventName, true, true);
        evt.payload = payload;
        d.body.dispatchEvent(evt);
    };

    GM.prototype.extractParams=
        function  () {
            var params = {},
                rawParms = window.location.search.substr(1).split('&');
            rawParms.forEach(function(rawParm){
                var encodedParam = rawParm.split('=',2);
                params[encodedParam[0]] = decodeURIComponent((encodedParam[1]||'').replace(/\+/g, " "));
            });
            return params;
        };

    // session loading methods

    //fetch profile from backend.
    GM.prototype.sessionRequest =
    function () {
        var ssoUrl = this.getOrigin() + this.CP + '/auth/sso.do',
            delim = '?';
        if (this.params.token){
            ssoUrl = ssoUrl + delim + 'token=' + encodeURIComponent(this.params.token);
        }

        var self = this;
        var xmlhttp = new XMLHttpRequest();

        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == XMLHttpRequest.DONE ) {
               if (xmlhttp.status == 200) {
                   self.sessionLoader(xmlhttp.responseText);
               }
            }
        };

        xmlhttp.open("GET", ssoUrl, true);
        xmlhttp.send();

    };

    GM.prototype.createEmptySessionObj = function () {
        return { userProfile:null };
    };

    GM.prototype.sessionLoader =
    function (payload,status) {
        this.sessionInitData = JSON.parse(payload);
        this.trigger('sessionLoaded', payload);
    };

    // jsonFrame methods

    GM.prototype.jsonFrame =
    function (inUrl, callback) {
        var id = Math.random().toString(36).substring(7),
            delim = (inUrl.indexOf('?') === -1) ? '?' : '&',
            url = inUrl + delim + 'frameId=' + id,
            el = this.jsonFrameCreateIFrame(url, id);
        this.jsonFrameCallbacks[id] = this.jsonFrameHandler.bind(this, id, el, callback);
        // Error - timeout - catch all
        setTimeout(this.jsonFrameOnError.bind(this, id, url), 15000);
    };

    GM.prototype.jsonFrameCreateIFrame =
    function (src, id) {
        var el = d.createElement("iframe");
        //console.log('gm:jsonFrameCreateIFrame', src);
        el.name = "frame_" + id; // unique name needed for bfcache issues
        el.height = 0;
        el.width = 0;
        el.src = src;
		el.style.cssText = "border-width: 0px";
        d.body.appendChild(el);
        return el;
    };

    GM.prototype.jsonFrameTimeout = function (id) {
        var callbacks = this.jsonFrameCallbacks;
        if (callbacks[id]) {
            callbacks[id]('timeout', {});
        }
    };

    GM.prototype.jsonFrameOnError = function (id, url, err) {
        var callbacks = this.jsonFrameCallbacks;
        // note that this is called for every request due to timeout check
        if (callbacks[id]) {
            console.error('jsonFrameOnError', id, url, err);
            callbacks[id]('onError', {});
        }
    };


    GM.prototype.jsonFrameReceiveMessage =
    function (event){
        var data,
            callbacks = this.jsonFrameCallbacks,
            pathArray = event.origin.split( '/'),
            protocol = pathArray[0],
            host = pathArray[2],
            origin = protocol + "//" + host;
        if (event.origin === 'https://secure.brightcove.com') {
            return;
        }

        if (! (this.getOrigin() === event.origin || this.safeOrigins.lastIndexOf(origin, 0) === 0)) {
            console.error('GM:receiveMessage: untrusted message received, bad origin', event);
            return;
        }
        try {
            data = JSON.parse(event.data);
        } catch ( e ) {
            console.error('GM:receiveMessage: Message payload is not JSON encoded', event.data); // required for IE 9
            return;
        }
        if (typeof data.callbackId === 'undefined'){
            console.error('GM:receiveMessage: event received with no callbackId');
            return;
        }
        if (!callbacks[data.callbackId]) { //call back not defined if timed out
            console.warn('GM:receiveMessage: message received but callback not found, perhaps it timed out or was never defined. callbackId:', data.callbackId);
            return;
        }
        callbacks[data.callbackId]('success', data.payload);
    };

    GM.prototype.jsonFrameHandler =
    function (id, el, callback, status, payload) {
        //this.destroyEl(el);
        delete this.jsonFrameCallbacks[id];
        callback({
            jsonFrameStatus: status,
            payload: payload
        });
    };


    // Content Management System methods

    GM.prototype.cmsPrefetchHandler =
    function (values) {
        this.cmsPreload = values;
        this.trigger('cmsPreloaded', values);
    };

    GM.prototype.cmsGetConfig =
        function (BML){
            this.trigger('cmsConfigLoaded');
        };

    // ** init **
    // remove the hide class from the main app wrapper - hidden to prevent showing on pages where JS is not supported
    var el, F = Function;
    el = document.querySelectorAll('[data-ng-controller="masterController"]')[0] || document.querySelectorAll('[ng-controller="masterController"]')[0];
    el.className = el.className.replace(/\bhide\b/,'');
    // Add a class to body tag for IE9 and IE10 - note that conditional comment will not work with IE11
    if(new F('/*@cc_on return (document.documentMode===10 || document.documentMode===9)@*/')()){
        document.body.className = document.body.className + ' IE' + document.documentMode;
    }

    if (typeof w.gm === 'object') {
        w.gm = new GM (w.gm);
    } else {
        console.error('No configuration options found at window.gm');
    }

} (window, document));

        </script>
        <script src="/cms/read/all/vauxhall/gb/en?callback=gm.cmsPrefetchHandler&maxTextLength=200" async="true"></script>
        
        
        <script src="/imports/thirdParty.vx.js?v=1499116674768"></script>
        <script src="/sites/vauxhall_uk/gm.js?v=1499116674768"></script>
        
        
        <!--<![endif]-->

        <script type="text/javascript">
          (function () {
            var tagjs = document.createElement("script");
            var s = document.getElementsByTagName("script")[0];
            tagjs.async = true;
            tagjs.src = "//s.btstatic.com/tag.js#site=5WcOaUq";
            s.parentNode.insertBefore(tagjs, s);
          }());
        </script>
        <noscript>
            <iframe src="//s.thebrighttag.com/iframe?c=5WcOaUq" width="1" height="1" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
        </noscript>

    </body>
</html>
